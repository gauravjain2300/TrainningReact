"use strict";(self.webpackChunk_unisporkal_search_bar=self.webpackChunk_unisporkal_search_bar||[]).push([[1660],{1886:function(e,a,i){i.r(a),i.d(a,{default:function(){return O}});var s=i(2851),t=i(8519),r=i(4561),o=i(90),l=i(7648);var n=(0,i(9040).Qg)((({test_type:e,test_variation:a})=>({event:"user_experience",event_name:"user_experience",test_type:e,test_variation:a}))),c=i(2867);var d=e=>{const a=window.tracking_data;if(!a)return;const i=a.ecommerce_test_variation;i.includes(e)||(a.ecommerce_test_variation=i?`${i}|${e}`:e)},m=i(5699),_=i(4545),h={container:"rkdOwLBpz6VDItZ8ArRU",holder:"SdUlYQV4BghrZH4vmNWA",overlay:"SoiPq0Dh6ToPdm08F30f",tooltipWrapper:"GQk1lpViSWXB8i6SAddY"},p=i(5893);const v={searchbyimage:"search_box.search_bar_similar_images_placeholder",searchbyasset:"search_box.search_bar_similar_images_placeholder",morelikethis:"search_box.search_bar_similar_images_placeholder",image:"search_box.search_all_images","image.creative":"search_box.search_creative_photos_and_images","image.creative.photography":"search_box.search_creative_photos_and_images","image.creative.illustration":"search_box.search_creative_photos_and_images","image.creative.illustration.eps":"search_box.search_creative_photos_and_images","image.editorial":"search_box.search_editorial_photos",imagefilm:"search_box.search_creative_image_and_film",film:"search_box.search_all_videos","film.creative":"search_box.search_creative_footage_and_video","film.editorial":"search_box.search_editorial_footage_and_video"};var g=()=>{const e=(0,s.useRef)(null);(0,m.pN)(e);const a=(0,m.MO)(),i=(0,o.b)(),t=(0,l.aF)(),{inTest:r,inEditorialTest:g,inExperience:f}=t.imageFilmGrid,y=(0,s.useDeferredValue)(a.options.mobileMediaFilter&&a.inFocus);(0,s.useEffect)((()=>{if(r){const a=f?"expA":"control",i=g?"editorial_":"";d(`gi_srp_${i}imagefilm_grid-${a}`);const s=n({test_type:"ab_test",test_variation:`gi_srp_${i}imagefilm_grid_${e=a,e.replace(/[A-Z]/g,(e=>`_${e.toLowerCase()}`))}`});(0,c.r)(s)}var e}),[]);const b={endpoint:"https://as.gettyservices.com:443/GettyImages.Autocomplete.KeywordService.Service/KeywordService1/Suggestedkeywords",siteLocale:a.locale||i,searchAssetType:a.searchParameters.assettype||"image",searchAssetFamily:a.searchParameters.family||"any"};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(_.E1,{children:(0,p.jsxs)(p.Fragment,{children:[(!(!a.options.overlayOnFocus||!a.inFocus)||!(!a.options.overlayOnFocusAndDocked||!a.inFocus||"docked"!==a.peekyScrollMode))&&(0,p.jsx)("div",{className:h.overlay}),(0,p.jsxs)("div",{className:h.container,ref:e,children:[(0,p.jsxs)("div",{className:h.holder,children:[(0,p.jsx)(_.Rj,{placeholders:v}),(0,p.jsx)(F,{}),(0,p.jsx)(_.Fz,{})]}),y&&(0,p.jsx)("div",{className:h.mediaFilter,children:(0,p.jsx)(C,{})}),(0,p.jsx)(_.J,{options:b})]})]})}),(0,p.jsx)("div",{className:h.tooltipWrapper,children:(0,p.jsx)(_.W9,{})})]})},f={container:"K1SqZyKEYvLb_2tVus4g",containerSearchbarRefresh:"kLRNotKjlkvmvEexzO2k",mediaOptions:"Vd2VvUl3qgDV1ToNCrBF",open:"TCqykY_x129FLD1Q3iGN",options:"FVJUo7TzF6ZIBn5mIPzw",iconContainer:"C2IV29VGFaXmcJXdcbOt",iconClosed:"yN0W__RQwt8CrKOZ7s_w",iconOpen:"tmGgQ_633jdRwDLjFK9k",option:"V8L0tRYFS9z9GGehXGVy",holder:"w1KxLpGwIQwwdDxNoon8",iconCheckmark:"B4FnD574T0hsIY_EvGKX",headerOption:"Ekb6j6DvvOlpF3eIO2ed",mainLabel:"qkcSYQOHC60fz5eW9K75"},y=i(4696),b=i(8130),u=i(8137),x=i(8942);const j=({styles:e={}})=>{const a=["imagesAll","imagesCreative","imagesEditorial","videoAll","videoCreative","videoEditorial"],i={imagesAll:{assettype:"image",family:null,mainLabel:"images",label:"images",isMain:!0},imagesCreative:{assettype:"image",family:"creative",mainLabel:"creative_images",label:"creative"},imagesEditorial:{assettype:"image",family:"editorial",mainLabel:"editorial_images",label:"editorial"},videoAll:{assettype:"film",family:null,mainLabel:"video",label:"video",isMain:!0},videoCreative:{assettype:"film",family:"creative",mainLabel:"search_box.creative_video",label:"creative_video_filetype_dropdown"},videoEditorial:{assettype:"film",family:"editorial",mainLabel:"search_box.editorial_video",label:"editorial_video_filetype_dropdown"}},t=(0,b.T)(),r=(0,m.MO)(),[o,n]=(0,s.useState)(!0),d=(0,l.aF)(),{inCreativeTest:_,inEditorialTest:h,inExperience:v}=d.imageFilmGrid;h&&v&&(a.unshift("editorialImagesAndFilm"),i.editorialImagesAndFilm={assettype:"image,film",family:"editorial",mainLabel:"editorial_images_video",label:"editorial_images_video",isMain:!0}),_&&v&&(a.unshift("creativeImagesAndFilm"),i.creativeImagesAndFilm={assettype:"image,film",family:"creative",mainLabel:"creative_images_video",label:"creative_images_video",isMain:!0}),Object.keys(i).forEach((e=>{i[e].testId=e}));const g=()=>_&&v&&r.imageAndFilmSearch()&&r.creativeSearch()?"creativeImagesAndFilm":h&&v&&r.imageAndFilmSearch()&&r.editorialSearch()?"editorialImagesAndFilm":r.imageSearch()&&r.creativeSearch()?"imagesCreative":r.imageSearch()&&r.editorialSearch()?"imagesEditorial":r.imageSearch()?"imagesAll":r.filmSearch()&&r.creativeSearch()?"videoCreative":r.filmSearch()&&r.editorialSearch()?"videoEditorial":r.filmSearch()?"videoAll":"imagesAll",[f,j]=(0,s.useState)(g());(0,s.useEffect)((()=>{j(g())}),[r.updateSearchBarSearchParameters]);const S=()=>{n(!o)},F=e=>{S(),j(e),r.updateSearchBar({inFocus:!1}),r.updateSearchBarSearchParameters({assettype:i[e].assettype,family:i[e].family,mediatype:null}),r.options.performSearch||r.setStatusToUpdated(),(e=>{const a=(0,y.M)({event_name:"select_search_asset_family_option",search_selection:e,ui_element_location:"search_bar"}),i={name:"selectDropdownOption",payload:{dropdown_type:"asset_family_search_options",dropdown_option_selected:e,ui_element_location:"search_bar"}};(0,c.j)(i,a)})(e)};return(0,p.jsxs)("section",{className:e.container,onMouseLeave:()=>{o||n(!0)},"data-testid":"section-media-filter",children:[(0,p.jsxs)("button",{"data-testid":"media-filter-toggle",className:e.mainLabel,onClick:()=>{const e=o;S(),e&&(()=>{var e;const a=(0,y.M)({event_name:"open_search_asset_family_options",ui_element_location:"search_bar"}),i={name:"searchInteraction",payload:{search_interaction:"Asset_Family_Search_Options_Open",search_selection:null==(e=window.tracking_data)?void 0:e.page_name,ui_element_location:"search_bar"}};(0,c.j)(i,a)})()},type:"button",children:[(0,p.jsx)("span",{children:t(i[f].mainLabel)}),(0,p.jsx)("div",{className:e.iconContainer,children:(0,p.jsx)(x.Z,{className:`${o?e.iconClosed:e.iconOpen}`})})]}),(0,p.jsx)("div",{"data-testid":"media-filter-dropdown-container",className:`${e.mediaOptions} ${o?"":e.open}`,children:(0,p.jsx)("ul",{className:e.options,"data-testid":"media-filter-item-list",children:a.map((a=>{let s=e.option;return i[a].isMain&&(s=e.headerOption),(0,p.jsx)("li",{"aria-label":a,className:s,children:(0,p.jsxs)("div",{"data-testid":"media-filter-option",className:e.holder,onClick:()=>F(a),onKeyDown:()=>F(a),role:"button",tabIndex:0,children:[(0,p.jsx)("label",{children:t(`${i[a].label}`)}),g()===a&&(0,p.jsx)(u.Z,{className:e.iconCheckmark,viewBox:"0 0 100 100"})]})},a)}))})})]})};j.defaultProps={styles:{}};var S=j;var F=()=>(0,p.jsx)(S,{styles:f}),k={container:"TdNZaYpD9yz5FW1wjIw7",mediaOptions:"sMs4QQCmuztjTWZ_VoKY",open:"Y3LEKUop6y97WbiakSax",options:"eEyiV40vPXqN1tMK8FOL",iconContainer:"WQ_tNrfSjG_Jx6T15U0K",iconClosed:"rs3VTff3CDBo03BE22nE",iconOpen:"QEfRG0ZJIej3XHFfWqDw",option:"vfhuU2eNezF7oCOuK5Yw",holder:"UZkaNLzq6oYoROT0E0EW",iconCheckmark:"i8lp1q7GCCwA6W664YHv",headerOption:"f14U7FV1cd_jk5ucTAzn",mainLabel:"e1OrXk82lkWGUSeBzCwa"};var C=()=>(0,p.jsx)(S,{styles:k}),w=i(2696),A=i(4606),N=i(9437);var O=(0,t.Z)(N.i,N.K.SEARCH_BAR,(({siteName:e,user:a,config:i,locale:s})=>{const t="getty"===e?g:w.aT,o=(0,A.Z)(e,a,i);return(0,p.jsx)(r.Cl,{config:o,locale:s,siteName:e,user:a,children:(0,p.jsx)(t,{})})}))}}]);
//# sourceMappingURL=SearchBar-88556c82b22f549fd7d2.js.map